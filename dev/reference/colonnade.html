<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Format multiple vectors in a tabular display — colonnade • pillar</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Format multiple vectors in a tabular display — colonnade" />
<meta property="og:description" content="The vectors are formatted to fit horizontally into a user-supplied number of
characters per row.
The colonnade() function doesn't process the input but returns an object
with a format() and a print() method.
The implementations call squeeze() to create pillar objects and fit them to a given width." />


<meta name="robots" content="noindex">



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pillar</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.4.99.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/pillar-package.html#package-options">Options</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/pillar/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format multiple vectors in a tabular display</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/pillar/blob/master/R/multi.R'><code>R/multi.R</code></a></small>
    <div class="hidden name"><code>colonnade.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The vectors are formatted to fit horizontally into a user-supplied number of
characters per row.</p>
<p>The <code>colonnade()</code> function doesn't process the input but returns an object
with a <code><a href='https://rdrr.io/r/base/format.html'>format()</a></code> and a <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code> method.
The implementations call <code><a href='squeeze.html'>squeeze()</a></code> to create <a href='pillar.html'>pillar</a> objects and fit them to a given width.</p>
    </div>

    <pre class="usage"><span class='fu'>colonnade</span><span class='op'>(</span><span class='va'>x</span>, has_row_id <span class='op'>=</span> <span class='cn'>TRUE</span>, width <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A list, which can contain matrices or data frames.
If named, the names will be used as title for the pillars. Non-syntactic names
will be escaped.</p></td>
    </tr>
    <tr>
      <th>has_row_id</th>
      <td><p>Include a column indicating row IDs? Pass <code>"*"</code> to mark
the row ID column with a star.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>Default width of the entire output, optional.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>These dots are for future extensions and must be empty.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Pillars may be distributed over multiple tiers if
<code>width &gt; getOption("width")</code>. In this case each tier is at most
<code><a href='https://rdrr.io/r/base/options.html'>getOption("width")</a></code> characters wide. The very first step of formatting
is to determine how many tiers are shown at most, and the width of each
tier.</p>
<p>To avoid unnecessary computation for showing very wide colonnades, a first
pass tries to fit all capitals into the tiers.
For each pillar whose capital fits, it is then decided in which tier it is
shown, if at all, and how much horizontal space it may use (either its
minimum or its maximum width).
Remaining space is then distributed proportionally to pillars that do not
use their desired width.</p>
<p>For fitting pillars in one or more tiers, first a check is made
if all pillars fit with their maximum width (e.g.,
<code><a href='https://rdrr.io/r/base/options.html'>option(tibble.width = Inf)</a></code> or narrow colonnade).
If yes, this is the resulting fit, no more work needs to be done.
Otherwise, if the maximum width is too wide, the same test
is carried out with the minimum width.
If this is still too wide, this is the resulting fit.
Otherwise, some tiers from the start
will contain pillars with their maximum width, and the remaining tiers
contain pillars with their minimum width.
We determine the cut point where minimum and maximum assignment
agree.</p>
<p>Fitting pillars into tiers is very similar to a word-wrapping algorithm.
In a loop, new tiers are opened if the current tier overflows.
If a column is too wide to fit a single tier, it will never be
displayed, and the colonnade will be truncated there.
This case should never occur with reasonable display widths larger than
30 characters.
Truncation also happens if all available tiers are filled.</p>
<p>The remaining space is distributed from left to right.
Each column gains space proportional to the fraction of missing and
remaining space,
rounded down.
Any space remaining after rounding is distributed from left to right,
one space per column.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>colonnade</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>a <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, b <span class='op'>=</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;       a b    
#&gt;   <span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>     1 a    
#&gt; </span><span style='color: #BCBCBC;'>2</span><span>     2 b    
#&gt; </span><span style='color: #BCBCBC;'>3</span><span>     3 c    </div><div class='input'>
<span class='va'>long_string</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>letters</span>, collapse <span class='op'>=</span> <span class='st'>" "</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>colonnade</span><span class='op'>(</span><span class='va'>long_string</span>, width <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>             
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> a b c d e f g h i…</div><div class='input'><span class='fu'>colonnade</span><span class='op'>(</span><span class='va'>long_string</span>, has_row_id <span class='op'>=</span> <span class='cn'>FALSE</span>, width <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>               
#&gt; a b c d e f g h i j…</div><div class='input'>
<span class='co'># The width can also be overridden when calling format() or print():</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>colonnade</span><span class='op'>(</span><span class='va'>long_string</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>             
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> a b c d e f g h i…</div><div class='input'>
<span class='co'># If width is larger than getOption("width"), multiple tiers are created:</span>
<span class='fu'>colonnade</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>long_string</span>, <span class='fl'>4</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='cn'>Inf</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                              
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> a b c d e f g h i j k l m n o p q r s t u v w x y z
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                              
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> a b c d e f g h i j k l m n o p q r s t u v w x y z
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                              
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> a b c d e f g h i j k l m n o p q r s t u v w x y z
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                              
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> a b c d e f g h i j k l m n o p q r s t u v w x y z</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://krlmlr.info'>Kirill Müller</a>, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


